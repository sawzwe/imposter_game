@import url("https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Share+Tech+Mono&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&display=swap");
@import "tailwindcss";
@import "./styles/themes/default.css";
@import "./styles/themes/cyberpunk.css";
@import "./styles/themes/solarpunk.css";

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: "DM Sans", system-ui, sans-serif;
  --font-display: "Rajdhani", system-ui, sans-serif;
}

/* Fallback for :root before theme loads */
:root {
  --font-sans: "DM Sans", system-ui, sans-serif;
  --font-display: "Rajdhani", system-ui, sans-serif;
}

:root {
  --footer-height: 0px;
}

html {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-sans);
  min-height: 100vh;
  min-height: 100dvh;
  padding: env(safe-area-inset-top, 0px) env(safe-area-inset-right)
    calc(var(--footer-height) + env(safe-area-inset-bottom, 0px))
    env(safe-area-inset-left);
}

/* Theme-aware display font — headings, titles, buttons */
.font-display {
  font-family: var(--font-display);
}

button,
a,
[role="button"] {
  cursor: pointer;
  touch-action: manipulation; /* Reduces 300ms tap delay on mobile */
}

/* Animated grid background — uses theme var */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(var(--grid-color) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
  background-size: 40px 40px;
  animation: gridPan 20s linear infinite;
  pointer-events: none;
  z-index: 0;
}

@keyframes gridPan {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 40px 40px;
  }
}

/* Heads Up card animations */
@keyframes headsup-card-in {
  0% {
    opacity: 0;
    transform: scale(0.85) translateY(20px);
  }
  60% {
    transform: scale(1.03) translateY(-4px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes headsup-card-out {
  0% {
    opacity: 1;
    transform: scale(1) translateX(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.95) translateX(-30px);
  }
}

.animate-headsup-card-in {
  animation: headsup-card-in 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-headsup-card-out {
  animation: headsup-card-out 0.2s ease-out forwards;
}

/* Button press ripple */
@keyframes btn-pop {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

.animate-btn-pop {
  animation: btn-pop 0.3s ease;
}

/* Game select card stagger */
@keyframes game-select-in {
  0% {
    opacity: 0;
    transform: translateY(16px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-game-select-in {
  animation: game-select-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-game-select-in-delay-1 {
  animation: game-select-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.08s
    forwards;
  opacity: 0;
}

.animate-game-select-in-delay-2 {
  animation: game-select-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.16s
    forwards;
  opacity: 0;
}

/* Aura-inspired animations — fade, slide, subtle motion */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out forwards;
}

.animate-slide-up {
  animation: slide-up 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-slide-up-delayed {
  animation: slide-up 0.5s cubic-bezier(0.22, 1, 0.36, 1) 0.1s forwards;
  opacity: 0;
}

/* Heads Up — compact layout in landscape for mobile */
@media (orientation: landscape) and (max-height: 500px) {
  .headsup-card {
    padding: 0.75rem 1rem !important;
  }
  .headsup-card-img {
    height: 4rem !important;
    width: 4rem !important;
  }
  .headsup-buttons {
    margin-top: 0.5rem !important;
    gap: 0.375rem !important;
  }
  .headsup-buttons button {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
}
@media (orientation: landscape) and (max-height: 420px) {
  .headsup-card-img {
    height: 3rem !important;
    width: 3rem !important;
  }
}

/* Reduced motion — tone down background animation only */
@media (prefers-reduced-motion: reduce) {
  body::before {
    animation: none;
  }
}
